{"ast":null,"code":"import { computed } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRouter, useRoute } from 'vue-router';\nimport { ElMessageBox } from 'element-plus';\nexport default {\n  name: 'Home',\n  setup() {\n    const store = useStore();\n    const router = useRouter();\n    const route = useRoute();\n    const username = computed(() => {\n      const user = store.getters.currentUser;\n      console.log('当前用户状态:', user);\n      return user ? user.username : '用户';\n    });\n    const activeMenu = computed(() => route.path);\n    const handleCommand = command => {\n      if (command === 'logout') {\n        ElMessageBox.confirm('确定要退出登录吗?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          store.dispatch('logout');\n          router.push('/login');\n        }).catch(() => {});\n      }\n    };\n    return {\n      username,\n      activeMenu,\n      handleCommand\n    };\n  }\n};","map":{"version":3,"names":["computed","useStore","useRouter","useRoute","ElMessageBox","name","setup","store","router","route","username","user","getters","currentUser","console","log","activeMenu","path","handleCommand","command","confirm","confirmButtonText","cancelButtonText","type","then","dispatch","push","catch"],"sources":["C:\\Users\\dhhhh\\Desktop\\heart-diagnosis-system\\heart-diagnosis-system\\frontend\\src\\views\\Home.vue"],"sourcesContent":["<template>\n  <div class=\"home-container\">\n    <el-container>\n      <el-aside width=\"200px\">\n        <div class=\"logo\">心脏病辅助诊断系统</div>\n        <el-menu\n          :default-active=\"activeMenu\"\n          class=\"el-menu-vertical\"\n          background-color=\"#304156\"\n          text-color=\"#fff\"\n          active-text-color=\"#409EFF\"\n          router\n        >\n          <el-menu-item index=\"/home/dashboard\">\n            <el-icon><DataLine /></el-icon>\n            <span>首页</span>\n          </el-menu-item>\n          <el-menu-item index=\"/home/patients\">\n            <el-icon><User /></el-icon>\n            <span>患者管理</span>\n          </el-menu-item>\n          <el-menu-item index=\"/home/diagnosis\">\n            <el-icon><Stethoscope /></el-icon>\n            <span>诊断</span>\n          </el-menu-item>\n          <el-menu-item index=\"/home/statistics\">\n            <el-icon><PieChart /></el-icon>\n            <span>统计</span>\n          </el-menu-item>\n        </el-menu>\n      </el-aside>\n      <el-container>\n        <el-header>\n          <div class=\"header-right\">\n            <span class=\"username\">{{ username }}</span>\n            <el-dropdown trigger=\"click\" @command=\"handleCommand\">\n              <span class=\"el-dropdown-link\">\n                <el-icon><Setting /></el-icon>\n              </span>\n              <template #dropdown>\n                <el-dropdown-menu>\n                  <el-dropdown-item command=\"logout\">退出登录</el-dropdown-item>\n                </el-dropdown-menu>\n              </template>\n            </el-dropdown>\n          </div>\n        </el-header>\n        <el-main>\n          <router-view />\n        </el-main>\n      </el-container>\n    </el-container>\n  </div>\n</template>\n\n<script>\nimport { computed } from 'vue'\nimport { useStore } from 'vuex'\nimport { useRouter, useRoute } from 'vue-router'\nimport { ElMessageBox } from 'element-plus'\n\nexport default {\n  name: 'Home',\n  setup() {\n    const store = useStore()\n    const router = useRouter()\n    const route = useRoute()\n    \n    const username = computed(() => {\n      const user = store.getters.currentUser\n      console.log('当前用户状态:', user)\n      return user ? user.username : '用户'\n    })\n    \n    const activeMenu = computed(() => route.path)\n    \n    const handleCommand = (command) => {\n      if (command === 'logout') {\n        ElMessageBox.confirm(\n          '确定要退出登录吗?',\n          '提示',\n          {\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            type: 'warning',\n          }\n        ).then(() => {\n          store.dispatch('logout')\n          router.push('/login')\n        }).catch(() => {})\n      }\n    }\n    \n    return {\n      username,\n      activeMenu,\n      handleCommand\n    }\n  }\n}\n</script>\n\n<style scoped>\n.home-container {\n  height: 100vh;\n}\n\n.el-container {\n  height: 100%;\n}\n\n.el-aside {\n  background-color: #304156;\n  color: #fff;\n}\n\n.logo {\n  height: 60px;\n  line-height: 60px;\n  text-align: center;\n  font-size: 16px;\n  font-weight: bold;\n  color: #fff;\n  background-color: #263445;\n}\n\n.el-header {\n  background-color: #fff;\n  color: #333;\n  line-height: 60px;\n  border-bottom: 1px solid #e6e6e6;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n}\n\n.header-right {\n  display: flex;\n  align-items: center;\n}\n\n.username {\n  margin-right: 10px;\n}\n\n.el-dropdown-link {\n  cursor: pointer;\n  font-size: 20px;\n}\n\n.el-main {\n  background-color: #f0f2f5;\n  padding: 20px;\n}\n</style> "],"mappings":"AAwDA,SAASA,QAAO,QAAS,KAAI;AAC7B,SAASC,QAAO,QAAS,MAAK;AAC9B,SAASC,SAAS,EAAEC,QAAO,QAAS,YAAW;AAC/C,SAASC,YAAW,QAAS,cAAa;AAE1C,eAAe;EACbC,IAAI,EAAE,MAAM;EACZC,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIN,QAAQ,CAAC;IACvB,MAAMO,MAAK,GAAIN,SAAS,CAAC;IACzB,MAAMO,KAAI,GAAIN,QAAQ,CAAC;IAEvB,MAAMO,QAAO,GAAIV,QAAQ,CAAC,MAAM;MAC9B,MAAMW,IAAG,GAAIJ,KAAK,CAACK,OAAO,CAACC,WAAU;MACrCC,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEJ,IAAI;MAC3B,OAAOA,IAAG,GAAIA,IAAI,CAACD,QAAO,GAAI,IAAG;IACnC,CAAC;IAED,MAAMM,UAAS,GAAIhB,QAAQ,CAAC,MAAMS,KAAK,CAACQ,IAAI;IAE5C,MAAMC,aAAY,GAAKC,OAAO,IAAK;MACjC,IAAIA,OAAM,KAAM,QAAQ,EAAE;QACxBf,YAAY,CAACgB,OAAO,CAClB,WAAW,EACX,IAAI,EACJ;UACEC,iBAAiB,EAAE,IAAI;UACvBC,gBAAgB,EAAE,IAAI;UACtBC,IAAI,EAAE;QACR,CACF,CAAC,CAACC,IAAI,CAAC,MAAM;UACXjB,KAAK,CAACkB,QAAQ,CAAC,QAAQ;UACvBjB,MAAM,CAACkB,IAAI,CAAC,QAAQ;QACtB,CAAC,CAAC,CAACC,KAAK,CAAC,MAAM,CAAC,CAAC;MACnB;IACF;IAEA,OAAO;MACLjB,QAAQ;MACRM,UAAU;MACVE;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}